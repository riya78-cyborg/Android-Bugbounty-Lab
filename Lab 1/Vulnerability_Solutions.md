# QuickPay Lab - Vulnerability Solutions

This document contains solutions and explanations for the QuickPay Android Bug Bounty Lab.

---

## 1. Hardcoded Stripe API Keys (Critical)
**Location:** `SharedPreferences` in `MainActivity.java`  
**How to find:** Use JADX to inspect `MainActivity` or search for `API_KEY` strings.  
**Exploit:** Extract the key and use it to test API requests in a safe environment.  
**Risk:** Critical – allows unauthorized financial operations if abused.  
**Fix:** Move API keys to a secure server or use Android Keystore.

---

## 2. Hardcoded AWS Credentials (Critical)
**Location:** `res/raw/aws_credentials.json`  
**How to find:** Decompile APK using apktool and inspect the `res/raw` folder.  
**Risk:** Critical – can access internal storage or cloud resources.  
**Fix:** Use temporary credentials via AWS Cognito.

---

## 3. Unencrypted SQLite storing PII (High)
**Location:** `data/data/com.quickpay/databases/user.db`  
**How to find:** Pull DB using `adb shell` and inspect tables.  
**Fix:** Encrypt database using SQLCipher.

---

## 4. Exported BroadcastReceiver (High)
**Location:** `AndroidManifest.xml`  
**Risk:** Can be triggered by other apps to manipulate data.  
**Fix:** Set `exported=false` or enforce permission checks.

---

## 5. Weak PIN Encryption (Medium)
**Location:** `utils/PinManager.java`  
**Fix:** Use PBKDF2 or AES with strong key derivation.

---

## 6. Certificate Pinning Bypass (Medium)
**Method:** Frida script to override SSL pinning.  
**Fix:** Use proper pinning and obfuscate checks.

---

## 7. Debug Logs with Sensitive Info (Medium)
**Location:** `Log.d()` statements in `MainActivity`  
**Fix:** Remove debug logs or disable in production build.

---

## 8. Insecure WebView Implementation (Low)
**Location:** `WebViewActivity.java`  
**Fix:** Disable `setJavaScriptEnabled` for untrusted URLs, enforce HTTPS.

---

## Example Bug Bounty Report

- **Title:** Hardcoded Stripe API Key in QuickPay  
- **Description:** Stripe API key found in APK, can be abused to test API endpoints.  
- **Steps to Reproduce:** [Detailed steps]  
- **Impact:** Unauthorized access to API functions  
- **CVSS Score:** 9.0  
- **Remediation:** Move keys to server-side storage  
- **Attachments:** Screenshots, Frida commands

